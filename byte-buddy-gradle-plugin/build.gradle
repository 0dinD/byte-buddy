apply plugin: 'java'

def pom = new XmlSlurper().parse(file('./pom.xml'))

group = pom.parent.groupId
version = pom.parent.version

sourceCompatibility = JavaVersion.VERSION_1_6
targetCompatibility = JavaVersion.VERSION_1_6

repositories {
    mavenLocal()
    mavenCentral()
}

dependencies {
    compile gradleApi()
    compile group: group, name: 'byte-buddy', version: version
    compile group: 'org.eclipse.aether', name: 'aether-api', version: '1.1.0'
    compile group: 'org.eclipse.aether', name: 'aether-util', version: '1.1.0'
    compile group: 'org.eclipse.aether', name: 'aether-connector-basic', version: '1.1.0'
    compile group: 'org.eclipse.aether', name: 'aether-transport-file', version: '1.1.0'
    compile group: 'org.eclipse.aether', name: 'aether-transport-http', version: '1.1.0'
    compile group: 'org.eclipse.aether', name: 'aether-transport-wagon', version: '1.1.0'
    compile group: 'org.apache.maven', name: 'maven-aether-provider', version: '3.3.9'
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

task javadocJar(type: Jar, dependsOn: javadoc) {
    classifier = 'javadoc'
    from javadoc.destinationDir
}
